# Symfony Modular Suite

**Symfony Modular Suite** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –±–∞–∑–µ Symfony 8.0, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (Twig) —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ SPA-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏ (React) –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –º–æ–Ω–æ–ª–∏—Ç–∞.

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é.

---

## üì¶ –ú–æ–¥—É–ª–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:

### 1. Greeting Module (–†–∞—Å—Å—ã–ª–∫–∏)
–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Symfony-–º–æ–¥—É–ª—å (MVC) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∏ –º–∞—Å—Å–æ–≤–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π.

*   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
    *   –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (XML, Text).
    *   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å (Symfony Messenger) —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π.
    *   –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –∏ —à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º.
    *   –í–∞–ª–∏–¥–∞—Ü–∏—è email-–∞–¥—Ä–µ—Å–æ–≤.

### 2. Multi-Currency Wallet (–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω—ã–π –∫–æ—à–µ–ª–µ–∫)
–ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–∫ **React SPA** (Single Page Application), –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ Symfony.

*   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
    *   –£—á–µ—Ç –±–∞–ª–∞–Ω—Å–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö (CZK, USD, EUR, JPY, BTC –∏ –¥—Ä.).
    *   **–¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `brick/money` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –ø–ª–∞–≤–∞—é—â–µ–π –∑–∞–ø—è—Ç–æ–π.
    *   **–ò—Å—Ç–æ—Ä–∏—è –∫—É—Ä—Å–æ–≤:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫—Ä–æ—Å—Å-–∫—É—Ä—Å–æ–≤, –∑–∞–≤–∏—Å—è—â–∞—è –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞–ª—é—Ç—ã.
    *   **–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç:** –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫—É—Ä—Å–∞–º.
    *   **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (Exchangerate.host, CurrencyFreaks) —Å –ª–æ–≥–∏–∫–æ–π Failover (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø–∞—Å–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø—Ä–∏ —Å–±–æ–µ).

### 3. Polygraphy Digest (–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫)
–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–ª–∏–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –æ—Ç—Ä–∞—Å–ª–∏ —Å –º–æ—â–Ω—ã–º –ø–æ–∏—Å–∫–æ–≤—ã–º –¥–≤–∏–∂–∫–æ–º.

*   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
    *   **–ê–≥—Ä–µ–≥–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ RSS –∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–∞–π—Ç–æ–≤.
    *   **–£–º–Ω—ã–π –ø–æ–∏—Å–∫:** –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –≤ Elasticsearch —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
    *   **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:** –†–∞—Å—á–µ—Ç —Ç—Ä–µ–Ω–¥–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
    *   **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π React-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ñ–∞—Å–µ—Ç–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
*   **Framework:** Symfony 8.0 (PHP 8.4)
*   **Database:** PostgreSQL 16
*   **Search Engine:** Elasticsearch 8.x
*   **Cache/Queue:** KeyDB (Redis-compatible)
*   **ORM:** Doctrine ORM
*   **Queue:** Symfony Messenger
*   **Math:** `brick/money`, `brick/math` (–¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)

### Frontend
*   **Build Tool:** Webpack Encore
*   **Core:**
    *   *Greeting:* Bootstrap 5, Twig, Native JS.
    *   *Wallet:* **React 18**, TypeScript, Tailwind CSS, Shadcn UI.
    *   *Polygraphy:* **React 18**, TypeScript, Tailwind CSS.

### Infrastructure
*   **Docker:** Nginx, PHP-FPM, Postgres, Elasticsearch, Kibana, KeyDB, Node.js.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   Docker –∏ Docker Compose

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
docker compose up --build -d
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PHP –∏ Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
# PHP –ø–∞–∫–µ—Ç—ã
docker compose exec php composer install

# Frontend –ø–∞–∫–µ—Ç—ã
docker compose run --rm node npm install
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local)
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `app/.env.local` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∫–ª—é—á–µ–π –∏ –ø–æ—á—Ç—ã. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è Wallet –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º.

```dotenv
# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—á—Ç—ã (Greeting Module) ---
MAILER_SENDER_EMAIL=hello@example.com
MAILER_SENDER_NAME="My Company"
# –†–µ–∂–∏–º –¥–æ—Å—Ç–∞–≤–∫–∏: 'file' (–≤ –ø–∞–ø–∫—É var/mails) –∏–ª–∏ 'smtp'
EMAIL_DELIVERY_MODE=file
# –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∏—Å—å–º–∞–º–∏ (—Å–µ–∫)
EMAIL_SEQUENCE_DELAY=2

# --- API –ö–ª—é—á–∏ –¥–ª—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç (Wallet Module) ---
# –ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
EXCHANGERATE_HOST_KEY=your_key_here
CURRENCYFREAKS_KEY=your_key_here
```

### –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –∏ –°–±–æ—Ä–∫–∞
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –û–Ω —Å–æ–∑–¥–∞—Å—Ç –±–∞–∑—É, –≤—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ **–∑–∞–≥—Ä—É–∑–∏—Ç —Ñ–∏–∫—Å—Ç—É—Ä—ã** (—Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ—à–µ–ª—å–∫–∞ –∏ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç).

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (Migrations + Fixtures)
docker compose exec php composer db-init

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ (Elasticsearch)
docker compose exec php bin/console polygraphy:search:init

# –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Dev —Ä–µ–∂–∏–º —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π)
docker compose run --rm node npm run dev
```

---

## üñ• –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **[http://localhost](http://localhost)**

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
*   **Greeting Dashboard:** `/greeting/dashboard`
*   **Multi-Currency Wallet:** `/multi-currency-wallet`
*   **Polygraphy Digest:** `/polygraphy`

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
*   **–í–æ—Ä–∫–µ—Ä –æ—á–µ—Ä–µ–¥–∏ (Greeting Module):**
    ```bash
    docker compose exec php bin/console messenger:consume async -v
    ```
*   **–í–æ—Ä–∫–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (Polygraphy Module):**
    ```bash
    docker compose exec php bin/console messenger:consume polygraphy scheduler_polygraphy -vv
    ```
*   **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:**
    ```bash
    docker compose exec php bin/console app:status:list
    ```

---

## üß™ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ QA

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è –∑–∞–ø—É—Å–∫–∞ Unit –∏ Integration —Ç–µ—Å—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –ë–î):

```bash
# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î (–æ–¥–∏–Ω —Ä–∞–∑)
./bin/setup-test-db

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
docker compose exec php bin/phpunit
```

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å—Ç—Ä–æ–≥–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π QA —Ü–∏–∫–ª (CS Fixer + PHPStan)
docker compose exec php composer qa
```
